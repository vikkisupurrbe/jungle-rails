<section class="users-new">
  <header class="page-header">
    <h1>Sign Up</h1>
  </header>

  <div class="row">
    <div class="col-sm-6 col-sm-offset-1">
      <%= form_for :user, url: '/users' do |f| %>
        
        <% # Error rendering logic %>
        <% if @user && @user.errors.any? %>
          <div class="alert alert-danger">
            <strong>The following errors prevented signup:</strong>
            <ul>
              <% @user.errors.full_messages.each do |error| %>
              <li><%= error %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="mb-3">
          <%= f.label :first_name, "First Name" %>
          <%= f.text_field :first_name, class: 'form-control' %>
        </div>

        <div class="mb-3">
          <%= f.label :last_name, "Last Name" %>
          <%= f.text_field :last_name, class: 'form-control' %>
        </div>

        <div class="mb-3">
          <%= f.label :email, "Email" %>
          <%= f.text_field :email, class: 'form-control' %>
        </div>

        <div class="mb-3">
          <%= f.label :password, "Password" %>
          <%= f.password_field :password, class: 'form-control' %>
        </div>

        <div class="mb-3">
          <%= f.label :password_confirmation, "Password Confirmation" %>
          <%= f.password_field :password_confirmation, class: 'form-control' %>
        </div>

        <%= f.submit "Submit", class: "btn btn-primary" %>

      <% end %>
    </div>
  </div>
</section>
